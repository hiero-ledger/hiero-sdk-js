# Solo Quick Reference Card

> **âš ï¸ Platform Requirements:** Solo can only run on **macOS** or **Linux**. Windows users must use WSL2.
> 
> **RAM Requirements:**
> - Single node: Minimum **12 GB RAM**
> - Dual node: Minimum **24 GB RAM** (required for dynamic address book tests)
>
> ðŸ“š [Official Solo Documentation](https://solo.hiero.org/)

## Essential Commands

```bash
# Setup Solo - single node (default, requires 12 GB RAM)
task solo:setup

# Setup Solo - dual node (requires 24 GB RAM, needed for DAB tests)
task solo:setup:dual-node

# Setup with custom versions
task solo:setup -- --consensus-node-version v0.70.0
task solo:setup -- --mirror-node-version v0.146.0
task solo:setup -- --consensus-node-version v0.70.0 --mirror-node-version v0.146.0

# Dual node with custom versions
task solo:setup:dual-node -- --consensus-node-version v0.70.0 --mirror-node-version v0.146.0

# Setup with local build (overrides consensus-node-version)
task solo:setup -- --local-build-path ../hiero-consensus-node/hedera-node/data

# Check if Solo is running
task solo:status

# View logs
task solo:logs

# Run all integration tests
task test:integration

# Run specific test types
task test:integration:node
task test:integration:browser

# Teardown Solo
task solo:teardown
```

## Default Versions

-   **Consensus Node:** v0.69.1 (or use `--local-build-path` for local builds)
-   **Mirror Node:** v0.145.2
-   **Default Nodes:** 1 node (use `task solo:setup:dual-node` for 2 nodes)

Override with `--consensus-node-version` and/or `--mirror-node-version` flags.  
Use `--local-build-path` for testing with a local Hiero consensus node build.

## Service Endpoints

| Service     | Endpoint          | Availability      |
| ----------- | ----------------- | ----------------- |
| Node 1      | `localhost:50211` | Always            |
| Node 2      | `localhost:51211` | Dual-node only    |
| Mirror REST | `localhost:5551`  | Always            |
| Mirror Web3 | `localhost:8545`  | Always            |
| Mirror gRPC | `localhost:5600`  | Always            |

## Environment Variables

Located in `.env` (auto-generated by setup):

```bash
HEDERA_NETWORK=local-node
OPERATOR_ID=0.0.XXXX          # Your test account
OPERATOR_KEY=302e...          # ECDSA private key
GENESIS_OPERATOR_ID=0.0.2     # Genesis account
GENESIS_OPERATOR_KEY=302e...  # Genesis key
```

## Common Issues & Quick Fixes

### Docker not running

```bash
# Start Docker Desktop, then:
task solo:setup
```

### Port conflicts

```bash
pkill -f "kubectl port-forward"
task solo:setup
```

### Tests failing

```bash
# Check Solo is running:
task solo:status

# Check .env exists:
cat .env

# Fresh start:
task solo:teardown
task solo:setup
```

### Pods not starting

```bash
# Check pod status:
kubectl get pods -n solo

# View pod logs:
kubectl logs -n solo <pod-name>

# Full cleanup:
task solo:teardown
kind delete cluster --name solo-cluster
rm -rf ~/.solo
task solo:setup
```

## Prerequisites

-   âœ… Docker Desktop (running)
-   âœ… Kind (Kubernetes in Docker)
-   âœ… kubectl
-   âœ… Node.js 18+

## Installation (macOS)

```bash
brew install kind kubectl
```

## First Time Setup Workflow

### Single Node Setup (Default, 12 GB RAM)

```bash
# 1. Install project dependencies (REQUIRED FIRST!)
task install

# 2. Setup Solo (takes ~5-10 minutes)
task solo:setup

# 3. Verify setup
task solo:status
cat .env

# 4. Run tests
task test:integration

# 5. Done! Teardown when finished
task solo:teardown
```

### Dual Node Setup (For DAB Tests, 24 GB RAM)

```bash
# 1. Install project dependencies (REQUIRED FIRST!)
task install

# 2. Setup Solo with dual nodes (takes ~10-15 minutes)
task solo:setup:dual-node

# Or with custom versions
task solo:setup:dual-node -- --consensus-node-version v0.70.0 --mirror-node-version v0.146.0

# 3. Configure hosts for dynamic address book tests (REQUIRED for DAB tests)
echo "127.0.0.1 network-node1-svc.solo.svc.cluster.local" | sudo tee -a /etc/hosts
echo "127.0.0.1 envoy-proxy-node1-svc.solo.svc.cluster.local" | sudo tee -a /etc/hosts
echo "127.0.0.1 network-node2-svc.solo.svc.cluster.local" | sudo tee -a /etc/hosts
echo "127.0.0.1 envoy-proxy-node2-svc.solo.svc.cluster.local" | sudo tee -a /etc/hosts

# 4. Verify setup
task solo:status
cat .env

# 5. Run tests
task test:integration

# 6. Done! Teardown when finished
task solo:teardown
```

**Notes:**

-   You must run `task install` before setup to install Solo as a dependency.
-   The `/etc/hosts` configuration is only required for dynamic address book tests with dual-node setup.

## Daily Development Workflow

```bash
# Morning
task solo:setup

# During development
task test:integration:node     # Run Node.js tests
task test:integration:browser  # Run browser tests

# View logs if needed
task solo:logs

# End of day
task solo:teardown
```

## Kubernetes Commands (Advanced)

```bash
# List all pods
kubectl get pods -n solo

# List all services
kubectl get services -n solo

# Describe a pod
kubectl describe pod <pod-name> -n solo

# View pod logs
kubectl logs -n solo <pod-name> -f

# Restart port forwarding manually
kubectl port-forward svc/haproxy-node1-svc -n solo 50211:50211
```

## Account Types

### Standard Test Account (ECDSA)

-   **Use for:** 99% of integration tests
-   **Variables:** `OPERATOR_ID`, `OPERATOR_KEY`
-   **Type:** ECDSA
-   **Balance:** 10M HBAR

### Genesis Account

-   **Use for:** Genesis-specific operations only
-   **Variables:** `GENESIS_OPERATOR_ID`, `GENESIS_OPERATOR_KEY`
-   **Type:** ED25519
-   **ID:** Always `0.0.2`

## Documentation Links

-   [Contributing Guide](./CONTRIBUTING.md)

## Support

-   **Issues:** https://github.com/hiero-ledger/hiero-sdk-js/issues
-   **Discord:** https://discord.com/channels/373889138199494658
-   **Docs:** https://docs.hiero.org/

---

**Tip:** Keep this file open in a separate terminal or print it for quick reference!
